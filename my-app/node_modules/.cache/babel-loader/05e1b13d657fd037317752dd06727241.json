{"ast":null,"code":"var fs = require(\"fs\");\nvar path = require(\"path\");\nvar config = require(\"./config\");\nvar eachSeries = require(\"async-each-series\");\nvar asyncTasks = require(\"./async-tasks\");\nvar hooks = require(\"./hooks\");\nvar merge = require(\"./opts\").merge;\nvar defaultPlugins = {\n  \"sync-options\": require(\"./plugins/sync-options/sync-options.plugin\"),\n  \"overview\": require(\"./plugins/overview/overview.plugin\"),\n  \"history\": require(\"./plugins/history/history.plugin\"),\n  \"plugins\": require(\"./plugins/plugins/plugins.plugin\"),\n  \"remote-debug\": require(\"./plugins/remote-debug/remote-debug.plugin\"),\n  \"help\": require(\"./plugins/help/help.plugin\"),\n  \"connections\": require(\"./plugins/connections/connections.plugin\"),\n  \"network-throttle\": require(\"./plugins/network-throttle/network-throttle.plugin\")\n};\n\n/**\n * @param {Object} opts - Any options specifically\n *                        passed to the control panel\n * @param {BrowserSync} bs\n * @param {EventEmitter} emitter\n * @constructor\n * @returns {UI}\n */\nvar UI = function (opts, bs, emitter) {\n  var ui = this;\n  ui.bs = bs;\n  ui.config = config.merge();\n  ui.events = emitter;\n  ui.options = merge(opts);\n  ui.logger = bs.getLogger(ui.config.get(\"pluginName\"));\n  ui.defaultPlugins = defaultPlugins;\n  ui.listeners = {};\n  ui.clients = bs.io.of(bs.options.getIn([\"socket\", \"namespace\"]));\n  ui.socket = bs.io.of(ui.config.getIn([\"socket\", \"namespace\"]));\n  if (ui.options.get(\"logLevel\")) {\n    ui.logger.setLevel(ui.options.get(\"logLevel\"));\n  }\n\n  /**\n   *\n   */\n  ui.pluginManager = new bs.utils.easyExtender(defaultPlugins, hooks).init();\n\n  /**\n   * Transform/save data RE: plugins\n   * @type {*}\n   */\n  ui.bsPlugins = require(\"./resolve-plugins\")(bs.getUserPlugins());\n  return ui;\n};\n\n/**\n * Detect an available port\n * @returns {UI}\n */\nUI.prototype.init = function () {\n  var ui = this;\n  eachSeries(asyncTasks, taskRunner(ui), tasksComplete(ui));\n  return this;\n};\n\n/**\n * @param cb\n */\nUI.prototype.getServer = function (cb) {\n  var ui = this;\n  if (ui.server) {\n    return ui.server;\n  }\n  this.events.on(\"ui:running\", function () {\n    cb(null, ui.server);\n  });\n};\n\n/**\n * @returns {Array}\n */\nUI.prototype.getInitialTemplates = function () {\n  var prefix = path.resolve(__dirname, \"../templates/directives\");\n  return fs.readdirSync(prefix).map(function (name) {\n    return path.resolve(prefix, name);\n  });\n};\n\n/**\n * @param event\n */\nUI.prototype.delegateEvent = function (event) {\n  var ui = this;\n  var listeners = ui.listeners[event.namespace];\n  if (listeners) {\n    if (listeners.event) {\n      listeners.event.call(ui, event);\n    } else {\n      if (event.event && listeners[event.event]) {\n        listeners[event.event].call(ui, event.data);\n      }\n    }\n  }\n};\n\n/**\n * @param cb\n */\nUI.prototype.listen = function (ns, events) {\n  var ui = this;\n  if (Array.isArray(ns)) {\n    ns = ns.join(\":\");\n  }\n  if (!ui.listeners[ns]) {\n    ui.listeners[ns] = events;\n  }\n};\n\n/**\n * @param name\n * @param value\n * @returns {Map|*}\n */\nUI.prototype.setOption = function (name, value) {\n  var ui = this;\n  ui.options = ui.options.set(name, value);\n  return ui.options;\n};\n\n/**\n * @param path\n * @param value\n * @returns {Map|*}\n */\nUI.prototype.setOptionIn = function (path, value) {\n  this.options = this.options.setIn(path, value);\n  return this.options;\n};\n\n/**\n * @param fn\n */\nUI.prototype.setMany = function (fn) {\n  this.options = this.options.withMutations(fn);\n  return this.options;\n};\n\n/**\n * @param path\n * @returns {any|*}\n */\nUI.prototype.getOptionIn = function (path) {\n  return this.options.getIn(path);\n};\n\n/**\n * Run each setup task in sequence\n * @param ui\n * @returns {Function}\n */\nfunction taskRunner(ui) {\n  return function (item, cb) {\n    ui.logger.debug(\"Starting Step: \" + item.step);\n\n    /**\n     * Give each step access to the UI Instance\n     */\n    item.fn(ui, function (err, out) {\n      if (err) {\n        return cb(err);\n      }\n      if (out) {\n        handleOut(ui, out);\n      }\n      ui.logger.debug(\"{green:Step Complete: \" + item.step);\n      cb();\n    });\n  };\n}\n\n/**\n * Setup tasks may return options or instance properties to be set\n * @param {UI} ui\n * @param {Object} out\n */\nfunction handleOut(ui, out) {\n  if (out.options) {\n    Object.keys(out.options).forEach(function (key) {\n      ui.options = ui.options.set(key, out.options[key]);\n    });\n  }\n  if (out.optionsIn) {\n    out.optionsIn.forEach(function (item) {\n      ui.options = ui.options.setIn(item.path, item.value);\n    });\n  }\n  if (out.instance) {\n    Object.keys(out.instance).forEach(function (key) {\n      ui[key] = out.instance[key];\n    });\n  }\n}\n\n/**\n * All async tasks complete at this point\n * @param ui\n */\nfunction tasksComplete(ui) {\n  return function (err) {\n    /**\n     * Log any error according to BrowserSync's Logging level\n     */\n    if (err) {\n      ui.logger.setOnce(\"useLevelPrefixes\", true).error(err.message || err);\n    }\n\n    /**\n     * Running event\n     */\n    ui.events.emit(\"ui:running\", {\n      instance: ui,\n      options: ui.options\n    });\n\n    /**\n     * Finally call the user-provided callback\n     */\n    ui.cb(null, ui);\n  };\n}\nmodule.exports = UI;","map":{"version":3,"names":["fs","require","path","config","eachSeries","asyncTasks","hooks","merge","defaultPlugins","UI","opts","bs","emitter","ui","events","options","logger","getLogger","get","listeners","clients","io","of","getIn","socket","setLevel","pluginManager","utils","easyExtender","init","bsPlugins","getUserPlugins","prototype","taskRunner","tasksComplete","getServer","cb","server","on","getInitialTemplates","prefix","resolve","__dirname","readdirSync","map","name","delegateEvent","event","namespace","call","data","listen","ns","Array","isArray","join","setOption","value","set","setOptionIn","setIn","setMany","fn","withMutations","getOptionIn","item","debug","step","err","out","handleOut","Object","keys","forEach","key","optionsIn","instance","setOnce","error","message","emit","module","exports"],"sources":["/home/user/Рабочий стол/pizza/project/node_modules/browser-sync-ui/lib/UI.js"],"sourcesContent":["var fs          = require(\"fs\");\nvar path        = require(\"path\");\n\nvar config      = require(\"./config\");\nvar eachSeries  = require(\"async-each-series\");\nvar asyncTasks  = require(\"./async-tasks\");\nvar hooks       = require(\"./hooks\");\nvar merge       = require(\"./opts\").merge;\n\nvar defaultPlugins = {\n    \"sync-options\":     require(\"./plugins/sync-options/sync-options.plugin\"),\n    \"overview\":         require(\"./plugins/overview/overview.plugin\"),\n    \"history\":          require(\"./plugins/history/history.plugin\"),\n    \"plugins\":          require(\"./plugins/plugins/plugins.plugin\"),\n    \"remote-debug\":     require(\"./plugins/remote-debug/remote-debug.plugin\"),\n    \"help\":             require(\"./plugins/help/help.plugin\"),\n    \"connections\":      require(\"./plugins/connections/connections.plugin\"),\n    \"network-throttle\": require(\"./plugins/network-throttle/network-throttle.plugin\")\n};\n\n/**\n * @param {Object} opts - Any options specifically\n *                        passed to the control panel\n * @param {BrowserSync} bs\n * @param {EventEmitter} emitter\n * @constructor\n * @returns {UI}\n */\nvar UI = function (opts, bs, emitter) {\n\n    var ui            = this;\n    ui.bs             = bs;\n    ui.config         = config.merge();\n    ui.events         = emitter;\n    ui.options        = merge(opts);\n    ui.logger         = bs.getLogger(ui.config.get(\"pluginName\"));\n    ui.defaultPlugins = defaultPlugins;\n    ui.listeners      = {};\n    ui.clients        = bs.io.of(bs.options.getIn([\"socket\", \"namespace\"]));\n    ui.socket         = bs.io.of(ui.config.getIn([\"socket\", \"namespace\"]));\n\n    if (ui.options.get(\"logLevel\")) {\n        ui.logger.setLevel(ui.options.get(\"logLevel\"));\n    }\n\n    /**\n     *\n     */\n    ui.pluginManager = new bs.utils.easyExtender(defaultPlugins, hooks).init();\n\n    /**\n     * Transform/save data RE: plugins\n     * @type {*}\n     */\n    ui.bsPlugins = require(\"./resolve-plugins\")(bs.getUserPlugins());\n\n    return ui;\n};\n\n/**\n * Detect an available port\n * @returns {UI}\n */\nUI.prototype.init = function () {\n\n    var ui = this;\n\n    eachSeries(\n        asyncTasks,\n        taskRunner(ui),\n        tasksComplete(ui)\n    );\n\n    return this;\n};\n\n/**\n * @param cb\n */\nUI.prototype.getServer = function (cb) {\n    var ui = this;\n    if (ui.server) {\n        return ui.server;\n    }\n    this.events.on(\"ui:running\", function () {\n        cb(null, ui.server);\n    });\n};\n\n/**\n * @returns {Array}\n */\nUI.prototype.getInitialTemplates = function () {\n    var prefix = path.resolve(__dirname, \"../templates/directives\");\n    return fs.readdirSync(prefix)\n        .map(function (name) {\n            return path.resolve(prefix, name);\n        });\n};\n\n/**\n * @param event\n */\nUI.prototype.delegateEvent = function (event) {\n\n    var ui = this;\n    var listeners = ui.listeners[event.namespace];\n\n    if (listeners) {\n        if (listeners.event) {\n            listeners.event.call(ui, event);\n        } else {\n            if (event.event && listeners[event.event]) {\n                listeners[event.event].call(ui, event.data);\n            }\n        }\n    }\n};\n\n/**\n * @param cb\n */\nUI.prototype.listen = function (ns, events) {\n    var ui = this;\n    if (Array.isArray(ns)) {\n        ns = ns.join(\":\");\n    }\n    if (!ui.listeners[ns]) {\n        ui.listeners[ns] = events;\n    }\n};\n\n/**\n * @param name\n * @param value\n * @returns {Map|*}\n */\nUI.prototype.setOption = function (name, value) {\n    var ui     = this;\n    ui.options = ui.options.set(name, value);\n    return ui.options;\n};\n\n/**\n * @param path\n * @param value\n * @returns {Map|*}\n */\nUI.prototype.setOptionIn = function (path, value) {\n    this.options = this.options.setIn(path, value);\n    return this.options;\n};\n\n/**\n * @param fn\n */\nUI.prototype.setMany = function (fn) {\n    this.options = this.options.withMutations(fn);\n    return this.options;\n};\n\n/**\n * @param path\n * @returns {any|*}\n */\nUI.prototype.getOptionIn = function (path) {\n    return this.options.getIn(path);\n};\n\n/**\n * Run each setup task in sequence\n * @param ui\n * @returns {Function}\n */\nfunction taskRunner (ui) {\n\n    return function (item, cb) {\n\n        ui.logger.debug(\"Starting Step: \" + item.step);\n\n        /**\n         * Give each step access to the UI Instance\n         */\n        item.fn(ui, function (err, out) {\n            if (err) {\n                return cb(err);\n            }\n            if (out) {\n                handleOut(ui, out);\n            }\n            ui.logger.debug(\"{green:Step Complete: \" + item.step);\n            cb();\n        });\n    };\n}\n\n/**\n * Setup tasks may return options or instance properties to be set\n * @param {UI} ui\n * @param {Object} out\n */\nfunction handleOut (ui, out) {\n\n    if (out.options) {\n        Object.keys(out.options).forEach(function (key) {\n            ui.options = ui.options.set(key, out.options[key]);\n        });\n    }\n\n    if (out.optionsIn) {\n        out.optionsIn.forEach(function (item) {\n            ui.options = ui.options.setIn(item.path, item.value);\n        });\n    }\n\n    if (out.instance) {\n        Object.keys(out.instance).forEach(function (key) {\n            ui[key] = out.instance[key];\n        });\n    }\n}\n\n/**\n * All async tasks complete at this point\n * @param ui\n */\nfunction tasksComplete (ui) {\n\n    return function (err) {\n\n        /**\n         * Log any error according to BrowserSync's Logging level\n         */\n        if (err) {\n            ui.logger.setOnce(\"useLevelPrefixes\", true).error(err.message || err);\n        }\n\n        /**\n         * Running event\n         */\n        ui.events.emit(\"ui:running\", {instance: ui, options: ui.options});\n\n        /**\n         * Finally call the user-provided callback\n         */\n        ui.cb(null, ui);\n    };\n}\n\nmodule.exports = UI;"],"mappings":"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"},"metadata":{},"sourceType":"script"}