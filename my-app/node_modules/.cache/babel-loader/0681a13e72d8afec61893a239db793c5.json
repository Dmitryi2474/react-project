{"ast":null,"code":"import _slicedToArray from\"/home/user/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/react-project/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import debounce from'lodash.debounce';import{useRef,useCallback}from'react';import{useDispatch}from'react-redux';import{setSearchValue}from'../../redux/slices/filterSlice';import{useLocation}from'react-router';import classes from'./Search.module.scss';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useLocation=useLocation(),pathname=_useLocation.pathname;var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var inputRef=useRef();var onClickClear=function onClickClear(){dispatch(setSearchValue(''));inputRef.current.focus();};// eslint-disable-next-line react-hooks/exhaustive-deps\nvar updateSearchValue=useCallback(debounce(function(str){dispatch(setSearchValue(str));},1000),[]);var onChangeInput=function onChangeInput(event){setValue(event.target.value);updateSearchValue(event.target.value);};return/*#__PURE__*/_jsx(\"div\",{children:pathname!=='/cart'&&/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsxs(\"svg\",{className:classes.icon,xmlns:\"http://www.w3.org/2000/svg\",enableBackground:\"new 0 0 50 50\",height:\"50px\",id:\"Layer_1\",version:\"1.1\",viewBox:\"0 0 50 50\",width:\"50px\",children:[/*#__PURE__*/_jsx(\"rect\",{fill:\"none\",height:\"50\",width:\"50\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"21\",cy:\"20\",fill:\"none\",r:\"16\",stroke:\"#000000\",strokeLinecap:\"round\",strokeMiterlimit:\"10\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"line\",{fill:\"none\",stroke:\"#000000\",strokeMiterlimit:\"10\",strokeWidth:\"4\",x1:\"32.229\",x2:\"45.5\",y1:\"32.229\",y2:\"45.5\"})]}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:value,onChange:onChangeInput,className:classes.input,placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E...\"}),value&&/*#__PURE__*/_jsxs(\"svg\",{onClick:function onClick(){return onClickClear('');},className:classes.clear,xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",height:\"24\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",width:\"24\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"18\",x2:\"6\",y1:\"6\",y2:\"18\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"6\",x2:\"18\",y1:\"6\",y2:\"18\"})]})]})});};export default Search;","map":{"version":3,"names":["debounce","useRef","useCallback","useDispatch","setSearchValue","useLocation","classes","useState","Search","pathname","dispatch","value","setValue","inputRef","onClickClear","current","focus","updateSearchValue","str","onChangeInput","event","target","root","icon","input","clear"],"sources":["/home/user/Рабочий стол/react-project/my-app/src/components/Search/Index.tsx"],"sourcesContent":["import debounce from 'lodash.debounce';\nimport { useRef, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setSearchValue } from '../../redux/slices/filterSlice';\nimport { useLocation } from 'react-router';\n\nimport classes from './Search.module.scss';\nimport { useState } from 'react';\n\nconst Search = () => {\n  const { pathname } = useLocation();\n  const dispatch = useDispatch();\n  const [value, setValue] = useState('');\n  const inputRef = useRef();\n\n  const onClickClear = () => {\n    dispatch(setSearchValue(''));\n    inputRef.current.focus();\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const updateSearchValue = useCallback(\n    debounce((str) => {\n      dispatch(setSearchValue(str));\n    }, 1000),\n    []\n  );\n\n  const onChangeInput = (event) => {\n    setValue(event.target.value);\n    updateSearchValue(event.target.value);\n  };\n\n  return (\n    <div>\n      {pathname !== '/cart' && (\n        <div className={classes.root}>\n          <svg\n            className={classes.icon}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            enableBackground=\"new 0 0 50 50\"\n            height=\"50px\"\n            id=\"Layer_1\"\n            version=\"1.1\"\n            viewBox=\"0 0 50 50\"\n            width=\"50px\"\n          >\n            <rect fill=\"none\" height=\"50\" width=\"50\" />\n            <circle\n              cx=\"21\"\n              cy=\"20\"\n              fill=\"none\"\n              r=\"16\"\n              stroke=\"#000000\"\n              strokeLinecap=\"round\"\n              strokeMiterlimit=\"10\"\n              strokeWidth=\"2\"\n            />\n            <line\n              fill=\"none\"\n              stroke=\"#000000\"\n              strokeMiterlimit=\"10\"\n              strokeWidth=\"4\"\n              x1=\"32.229\"\n              x2=\"45.5\"\n              y1=\"32.229\"\n              y2=\"45.5\"\n            />\n          </svg>\n          <input\n            ref={inputRef}\n            value={value}\n            onChange={onChangeInput}\n            className={classes.input}\n            placeholder=\"Поиск по названию...\"\n          />\n          {value && (\n            <svg\n              onClick={() => onClickClear('')}\n              className={classes.clear}\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              height=\"24\"\n              stroke=\"currentColor\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth=\"2\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n            >\n              <line x1=\"18\" x2=\"6\" y1=\"6\" y2=\"18\" />\n              <line x1=\"6\" x2=\"18\" y1=\"6\" y2=\"18\" />\n            </svg>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}