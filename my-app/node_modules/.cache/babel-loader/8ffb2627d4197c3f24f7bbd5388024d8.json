{"ast":null,"code":"const PLUGIN_NAME = \"Plugins\";\n\n/**\n * @type {{plugin: Function, plugin:name: string, markup: string}}\n */\nmodule.exports = {\n  /**\n   * @param ui\n   * @param bs\n   */\n  \"plugin\": function (ui, bs) {\n    ui.listen(\"plugins\", {\n      \"set\": function (data) {\n        bs.events.emit(\"plugins:configure\", data);\n      },\n      \"setMany\": function (data) {\n        if (data.value !== true) {\n          data.value = false;\n        }\n        bs.getUserPlugins().filter(function (item) {\n          return item.name !== \"UI    \"; // todo dupe code server/client\n        }).forEach(function (item) {\n          item.active = data.value;\n          bs.events.emit(\"plugins:configure\", item);\n        });\n      }\n    });\n  },\n  /**\n   * Hooks\n   */\n  \"hooks\": {\n    \"markup\": fileContent(\"plugins.html\"),\n    \"client:js\": fileContent(\"/plugins.client.js\"),\n    \"templates\": [\n      //getPath(\"plugins.directive.html\")\n    ],\n    \"page\": {\n      path: \"/plugins\",\n      title: PLUGIN_NAME,\n      template: \"plugins.html\",\n      controller: PLUGIN_NAME + \"Controller\",\n      order: 4,\n      icon: \"plug\"\n    }\n  },\n  /**\n   * Plugin name\n   */\n  \"plugin:name\": PLUGIN_NAME\n};\n\n/**\n * @param filepath\n * @returns {*}\n */\nfunction getPath(filepath) {\n  return require(\"path\").join(__dirname, filepath);\n}\n\n/**\n * @param filepath\n * @returns {*}\n */\nfunction fileContent(filepath) {\n  return require(\"fs\").readFileSync(getPath(filepath), \"utf-8\");\n}","map":{"version":3,"names":["PLUGIN_NAME","module","exports","ui","bs","listen","data","events","emit","value","getUserPlugins","filter","item","name","forEach","active","fileContent","path","title","template","controller","order","icon","getPath","filepath","require","join","__dirname","readFileSync"],"sources":["/home/user/Рабочий стол/pizza/project/node_modules/browser-sync-ui/lib/plugins/plugins/plugins.plugin.js"],"sourcesContent":["const PLUGIN_NAME = \"Plugins\";\n\n/**\n * @type {{plugin: Function, plugin:name: string, markup: string}}\n */\nmodule.exports = {\n    /**\n     * @param ui\n     * @param bs\n     */\n    \"plugin\": function (ui, bs) {\n\n        ui.listen(\"plugins\", {\n\n            \"set\": function (data) {\n                bs.events.emit(\"plugins:configure\", data);\n            },\n\n            \"setMany\": function (data) {\n\n                if (data.value !== true) {\n                    data.value = false;\n                }\n\n                bs.getUserPlugins()\n                    .filter(function (item) {\n                        return item.name !== \"UI    \"; // todo dupe code server/client\n                    })\n                    .forEach(function (item) {\n                        item.active = data.value;\n                        bs.events.emit(\"plugins:configure\", item);\n                    });\n            }\n        });\n    },\n    /**\n     * Hooks\n     */\n    \"hooks\": {\n        \"markup\": fileContent(\"plugins.html\"),\n        \"client:js\": fileContent(\"/plugins.client.js\"),\n        \"templates\": [\n            //getPath(\"plugins.directive.html\")\n        ],\n        \"page\": {\n            path: \"/plugins\",\n            title: PLUGIN_NAME,\n            template: \"plugins.html\",\n            controller: PLUGIN_NAME + \"Controller\",\n            order: 4,\n            icon: \"plug\"\n        }\n    },\n    /**\n     * Plugin name\n     */\n    \"plugin:name\": PLUGIN_NAME\n};\n\n/**\n * @param filepath\n * @returns {*}\n */\nfunction getPath (filepath) {\n    return require(\"path\").join(__dirname, filepath);\n}\n\n/**\n * @param filepath\n * @returns {*}\n */\nfunction fileContent (filepath) {\n    return require(\"fs\").readFileSync(getPath(filepath), \"utf-8\");\n}"],"mappings":"AAAA,MAAMA,WAAW,GAAG,SAAS;;AAE7B;AACA;AACA;AACAC,MAAM,CAACC,OAAO,GAAG;EACb;AACJ;AACA;AACA;EACI,QAAQ,EAAE,UAAUC,EAAE,EAAEC,EAAE,EAAE;IAExBD,EAAE,CAACE,MAAM,CAAC,SAAS,EAAE;MAEjB,KAAK,EAAE,UAAUC,IAAI,EAAE;QACnBF,EAAE,CAACG,MAAM,CAACC,IAAI,CAAC,mBAAmB,EAAEF,IAAI,CAAC;MAC7C,CAAC;MAED,SAAS,EAAE,UAAUA,IAAI,EAAE;QAEvB,IAAIA,IAAI,CAACG,KAAK,KAAK,IAAI,EAAE;UACrBH,IAAI,CAACG,KAAK,GAAG,KAAK;QACtB;QAEAL,EAAE,CAACM,cAAc,EAAE,CACdC,MAAM,CAAC,UAAUC,IAAI,EAAE;UACpB,OAAOA,IAAI,CAACC,IAAI,KAAK,QAAQ,CAAC,CAAC;QACnC,CAAC,CAAC,CACDC,OAAO,CAAC,UAAUF,IAAI,EAAE;UACrBA,IAAI,CAACG,MAAM,GAAGT,IAAI,CAACG,KAAK;UACxBL,EAAE,CAACG,MAAM,CAACC,IAAI,CAAC,mBAAmB,EAAEI,IAAI,CAAC;QAC7C,CAAC,CAAC;MACV;IACJ,CAAC,CAAC;EACN,CAAC;EACD;AACJ;AACA;EACI,OAAO,EAAE;IACL,QAAQ,EAAEI,WAAW,CAAC,cAAc,CAAC;IACrC,WAAW,EAAEA,WAAW,CAAC,oBAAoB,CAAC;IAC9C,WAAW,EAAE;MACT;IAAA,CACH;IACD,MAAM,EAAE;MACJC,IAAI,EAAE,UAAU;MAChBC,KAAK,EAAElB,WAAW;MAClBmB,QAAQ,EAAE,cAAc;MACxBC,UAAU,EAAEpB,WAAW,GAAG,YAAY;MACtCqB,KAAK,EAAE,CAAC;MACRC,IAAI,EAAE;IACV;EACJ,CAAC;EACD;AACJ;AACA;EACI,aAAa,EAAEtB;AACnB,CAAC;;AAED;AACA;AACA;AACA;AACA,SAASuB,OAAO,CAAEC,QAAQ,EAAE;EACxB,OAAOC,OAAO,CAAC,MAAM,CAAC,CAACC,IAAI,CAACC,SAAS,EAAEH,QAAQ,CAAC;AACpD;;AAEA;AACA;AACA;AACA;AACA,SAASR,WAAW,CAAEQ,QAAQ,EAAE;EAC5B,OAAOC,OAAO,CAAC,IAAI,CAAC,CAACG,YAAY,CAACL,OAAO,CAACC,QAAQ,CAAC,EAAE,OAAO,CAAC;AACjE"},"metadata":{},"sourceType":"script"}