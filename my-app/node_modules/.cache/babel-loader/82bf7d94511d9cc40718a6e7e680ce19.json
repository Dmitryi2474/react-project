{"ast":null,"code":"/**\n * Module dependencies.\n */\n\nvar Socket = require('./socket');\nvar Emitter = require('events').EventEmitter;\nvar parser = require('socket.io-parser');\nvar hasBin = require('has-binary2');\nvar debug = require('debug')('socket.io:namespace');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Namespace;\n\n/**\n * Blacklisted events.\n */\n\nexports.events = ['connect',\n// for symmetry with client\n'connection', 'newListener'];\n\n/**\n * Flags.\n */\n\nexports.flags = ['json', 'volatile', 'local'];\n\n/**\n * `EventEmitter#emit` reference.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * Namespace constructor.\n *\n * @param {Server} server instance\n * @param {Socket} name\n * @api private\n */\n\nfunction Namespace(server, name) {\n  this.name = name;\n  this.server = server;\n  this.sockets = {};\n  this.connected = {};\n  this.fns = [];\n  this.ids = 0;\n  this.rooms = [];\n  this.flags = {};\n  this.initAdapter();\n}\n\n/**\n * Inherits from `EventEmitter`.\n */\n\nNamespace.prototype.__proto__ = Emitter.prototype;\n\n/**\n * Apply flags from `Socket`.\n */\n\nexports.flags.forEach(function (flag) {\n  Object.defineProperty(Namespace.prototype, flag, {\n    get: function () {\n      this.flags[flag] = true;\n      return this;\n    }\n  });\n});\n\n/**\n * Initializes the `Adapter` for this nsp.\n * Run upon changing adapter by `Server#adapter`\n * in addition to the constructor.\n *\n * @api private\n */\n\nNamespace.prototype.initAdapter = function () {\n  this.adapter = new (this.server.adapter())(this);\n};\n\n/**\n * Sets up namespace middleware.\n *\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.use = function (fn) {\n  if (this.server.eio && this.name === '/') {\n    debug('removing initial packet');\n    delete this.server.eio.initialPacket;\n  }\n  this.fns.push(fn);\n  return this;\n};\n\n/**\n * Executes the middleware for an incoming client.\n *\n * @param {Socket} socket that will get added\n * @param {Function} fn last fn call in the middleware\n * @api private\n */\n\nNamespace.prototype.run = function (socket, fn) {\n  var fns = this.fns.slice(0);\n  if (!fns.length) return fn(null);\n  function run(i) {\n    fns[i](socket, function (err) {\n      // upon error, short-circuit\n      if (err) return fn(err);\n\n      // if no middleware left, summon callback\n      if (!fns[i + 1]) return fn(null);\n\n      // go on to next\n      run(i + 1);\n    });\n  }\n  run(0);\n};\n\n/**\n * Targets a room when emitting.\n *\n * @param {String} name\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.to = Namespace.prototype.in = function (name) {\n  if (!~this.rooms.indexOf(name)) this.rooms.push(name);\n  return this;\n};\n\n/**\n * Adds a new client.\n *\n * @return {Socket}\n * @api private\n */\n\nNamespace.prototype.add = function (client, query, fn) {\n  debug('adding socket to nsp %s', this.name);\n  var socket = new Socket(this, client, query);\n  var self = this;\n  this.run(socket, function (err) {\n    process.nextTick(function () {\n      if ('open' == client.conn.readyState) {\n        if (err) return socket.error(err.data || err.message);\n\n        // track socket\n        self.sockets[socket.id] = socket;\n\n        // it's paramount that the internal `onconnect` logic\n        // fires before user-set events to prevent state order\n        // violations (such as a disconnection before the connection\n        // logic is complete)\n        socket.onconnect();\n        if (fn) fn();\n\n        // fire user-set events\n        self.emit('connect', socket);\n        self.emit('connection', socket);\n      } else {\n        debug('next called after client was closed - ignoring socket');\n      }\n    });\n  });\n  return socket;\n};\n\n/**\n * Removes a client. Called by each `Socket`.\n *\n * @api private\n */\n\nNamespace.prototype.remove = function (socket) {\n  if (this.sockets.hasOwnProperty(socket.id)) {\n    delete this.sockets[socket.id];\n  } else {\n    debug('ignoring remove for %s', socket.id);\n  }\n};\n\n/**\n * Emits to all clients.\n *\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.emit = function (ev) {\n  if (~exports.events.indexOf(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n  // set up packet object\n  var args = Array.prototype.slice.call(arguments);\n  var packet = {\n    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,\n    data: args\n  };\n  if ('function' == typeof args[args.length - 1]) {\n    throw new Error('Callbacks are not supported when broadcasting');\n  }\n  var rooms = this.rooms.slice(0);\n  var flags = Object.assign({}, this.flags);\n\n  // reset flags\n  this.rooms = [];\n  this.flags = {};\n  this.adapter.broadcast(packet, {\n    rooms: rooms,\n    flags: flags\n  });\n  return this;\n};\n\n/**\n * Sends a `message` event to all clients.\n *\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.send = Namespace.prototype.write = function () {\n  var args = Array.prototype.slice.call(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Gets a list of clients.\n *\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.clients = function (fn) {\n  this.adapter.clients(this.rooms, fn);\n  // reset rooms for scenario:\n  // .in('room').clients() (GH-1978)\n  this.rooms = [];\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} compress if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nNamespace.prototype.compress = function (compress) {\n  this.flags.compress = compress;\n  return this;\n};\n\n/**\n * Sets the binary flag\n *\n * @param {Boolean} Encode as if it has binary data if `true`, Encode as if it doesnt have binary data if `false`\n * @return {Socket} self\n * @api public\n */\n\nNamespace.prototype.binary = function (binary) {\n  this.flags.binary = binary;\n  return this;\n};","map":{"version":3,"names":["Socket","require","Emitter","EventEmitter","parser","hasBin","debug","module","exports","Namespace","events","flags","emit","prototype","server","name","sockets","connected","fns","ids","rooms","initAdapter","__proto__","forEach","flag","Object","defineProperty","get","adapter","use","fn","eio","initialPacket","push","run","socket","slice","length","i","err","to","in","indexOf","add","client","query","self","process","nextTick","conn","readyState","error","data","message","id","onconnect","remove","hasOwnProperty","ev","apply","arguments","args","Array","call","packet","type","binary","undefined","BINARY_EVENT","EVENT","Error","assign","broadcast","send","write","unshift","clients","compress"],"sources":["/home/user/Рабочий стол/pizza/project/node_modules/socket.io/lib/namespace.js"],"sourcesContent":["\n/**\n * Module dependencies.\n */\n\nvar Socket = require('./socket');\nvar Emitter = require('events').EventEmitter;\nvar parser = require('socket.io-parser');\nvar hasBin = require('has-binary2');\nvar debug = require('debug')('socket.io:namespace');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Namespace;\n\n/**\n * Blacklisted events.\n */\n\nexports.events = [\n  'connect',    // for symmetry with client\n  'connection',\n  'newListener'\n];\n\n/**\n * Flags.\n */\n\nexports.flags = [\n  'json',\n  'volatile',\n  'local'\n];\n\n/**\n * `EventEmitter#emit` reference.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * Namespace constructor.\n *\n * @param {Server} server instance\n * @param {Socket} name\n * @api private\n */\n\nfunction Namespace(server, name){\n  this.name = name;\n  this.server = server;\n  this.sockets = {};\n  this.connected = {};\n  this.fns = [];\n  this.ids = 0;\n  this.rooms = [];\n  this.flags = {};\n  this.initAdapter();\n}\n\n/**\n * Inherits from `EventEmitter`.\n */\n\nNamespace.prototype.__proto__ = Emitter.prototype;\n\n/**\n * Apply flags from `Socket`.\n */\n\nexports.flags.forEach(function(flag){\n  Object.defineProperty(Namespace.prototype, flag, {\n    get: function() {\n      this.flags[flag] = true;\n      return this;\n    }\n  });\n});\n\n/**\n * Initializes the `Adapter` for this nsp.\n * Run upon changing adapter by `Server#adapter`\n * in addition to the constructor.\n *\n * @api private\n */\n\nNamespace.prototype.initAdapter = function(){\n  this.adapter = new (this.server.adapter())(this);\n};\n\n/**\n * Sets up namespace middleware.\n *\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.use = function(fn){\n  if (this.server.eio && this.name === '/') {\n    debug('removing initial packet');\n    delete this.server.eio.initialPacket;\n  }\n  this.fns.push(fn);\n  return this;\n};\n\n/**\n * Executes the middleware for an incoming client.\n *\n * @param {Socket} socket that will get added\n * @param {Function} fn last fn call in the middleware\n * @api private\n */\n\nNamespace.prototype.run = function(socket, fn){\n  var fns = this.fns.slice(0);\n  if (!fns.length) return fn(null);\n\n  function run(i){\n    fns[i](socket, function(err){\n      // upon error, short-circuit\n      if (err) return fn(err);\n\n      // if no middleware left, summon callback\n      if (!fns[i + 1]) return fn(null);\n\n      // go on to next\n      run(i + 1);\n    });\n  }\n\n  run(0);\n};\n\n/**\n * Targets a room when emitting.\n *\n * @param {String} name\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.to =\nNamespace.prototype.in = function(name){\n  if (!~this.rooms.indexOf(name)) this.rooms.push(name);\n  return this;\n};\n\n/**\n * Adds a new client.\n *\n * @return {Socket}\n * @api private\n */\n\nNamespace.prototype.add = function(client, query, fn){\n  debug('adding socket to nsp %s', this.name);\n  var socket = new Socket(this, client, query);\n  var self = this;\n  this.run(socket, function(err){\n    process.nextTick(function(){\n      if ('open' == client.conn.readyState) {\n        if (err) return socket.error(err.data || err.message);\n\n        // track socket\n        self.sockets[socket.id] = socket;\n\n        // it's paramount that the internal `onconnect` logic\n        // fires before user-set events to prevent state order\n        // violations (such as a disconnection before the connection\n        // logic is complete)\n        socket.onconnect();\n        if (fn) fn();\n\n        // fire user-set events\n        self.emit('connect', socket);\n        self.emit('connection', socket);\n      } else {\n        debug('next called after client was closed - ignoring socket');\n      }\n    });\n  });\n  return socket;\n};\n\n/**\n * Removes a client. Called by each `Socket`.\n *\n * @api private\n */\n\nNamespace.prototype.remove = function(socket){\n  if (this.sockets.hasOwnProperty(socket.id)) {\n    delete this.sockets[socket.id];\n  } else {\n    debug('ignoring remove for %s', socket.id);\n  }\n};\n\n/**\n * Emits to all clients.\n *\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.emit = function(ev){\n  if (~exports.events.indexOf(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n  // set up packet object\n  var args = Array.prototype.slice.call(arguments);\n  var packet = {\n    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,\n    data: args\n  };\n\n  if ('function' == typeof args[args.length - 1]) {\n    throw new Error('Callbacks are not supported when broadcasting');\n  }\n\n  var rooms = this.rooms.slice(0);\n  var flags = Object.assign({}, this.flags);\n\n  // reset flags\n  this.rooms = [];\n  this.flags = {};\n\n  this.adapter.broadcast(packet, {\n    rooms: rooms,\n    flags: flags\n  });\n\n  return this;\n};\n\n/**\n * Sends a `message` event to all clients.\n *\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.send =\nNamespace.prototype.write = function(){\n  var args = Array.prototype.slice.call(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Gets a list of clients.\n *\n * @return {Namespace} self\n * @api public\n */\n\nNamespace.prototype.clients = function(fn){\n  this.adapter.clients(this.rooms, fn);\n  // reset rooms for scenario:\n  // .in('room').clients() (GH-1978)\n  this.rooms = [];\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} compress if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nNamespace.prototype.compress = function(compress){\n  this.flags.compress = compress;\n  return this;\n};\n\n/**\n * Sets the binary flag\n *\n * @param {Boolean} Encode as if it has binary data if `true`, Encode as if it doesnt have binary data if `false`\n * @return {Socket} self\n * @api public\n */\n\n Namespace.prototype.binary = function (binary) {\n   this.flags.binary = binary;\n   return this;\n };\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}