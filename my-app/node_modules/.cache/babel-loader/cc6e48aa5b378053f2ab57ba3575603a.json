{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar immutable_1 = require(\"immutable\");\nfunction handleServerOption(incoming) {\n  var value = incoming.get('server');\n  if (value === false) {\n    return [incoming, []];\n  }\n  // server: true\n  if (value === true) {\n    var obj = {\n      baseDir: [\"./\"]\n    };\n    return [incoming.set('server', immutable_1.fromJS(obj)), []];\n  }\n  // server: \"./app\"\n  if (typeof value === \"string\") {\n    var obj = {\n      baseDir: [value]\n    };\n    return [incoming.set('server', immutable_1.fromJS(obj)), []];\n  }\n  if (immutable_1.List.isList(value)) {\n    var obj = {\n      baseDir: value\n    };\n    return [incoming.set('server', immutable_1.fromJS(obj)), []];\n  }\n  if (immutable_1.Map.isMap(value)) {\n    var dirs = immutable_1.List([]).concat(value.get(\"baseDir\", \"./\")).filter(Boolean);\n    var merged = value.merge({\n      baseDir: dirs\n    });\n    return [incoming.set('server', merged), []];\n  }\n  return [incoming, []];\n}\nexports.handleServerOption = handleServerOption;","map":{"version":3,"mappings":";;;;;AACA;AAGA,SAAgBA,kBAAkB,CAACC,QAAuB;EACtD,IAAMC,KAAK,GAAGD,QAAQ,CAACE,GAAG,CAAC,QAAQ,CAAC;EACpC,IAAID,KAAK,KAAK,KAAK,EAAE;IACjB,OAAO,CAACD,QAAQ,EAAE,EAAE,CAAC;;EAGzB;EACA,IAAIC,KAAK,KAAK,IAAI,EAAE;IAChB,IAAME,GAAG,GAAkB;MACvBC,OAAO,EAAE,CAAC,IAAI;KACjB;IACD,OAAO,CAACJ,QAAQ,CAACK,GAAG,CAAC,QAAQ,EAAEC,kBAAM,CAACH,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;;EAGpD;EACA,IAAI,OAAOF,KAAK,KAAK,QAAQ,EAAE;IAC3B,IAAME,GAAG,GAAkB;MACvBC,OAAO,EAAE,CAACH,KAAK;KAClB;IACD,OAAO,CAACD,QAAQ,CAACK,GAAG,CAAC,QAAQ,EAAEC,kBAAM,CAACH,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;;EAGpD,IAAIG,gBAAI,CAACC,MAAM,CAACN,KAAK,CAAC,EAAE;IACpB,IAAME,GAAG,GAAkB;MACvBC,OAAO,EAAEH;KACZ;IACD,OAAO,CAACD,QAAQ,CAACK,GAAG,CAAC,QAAQ,EAAEC,kBAAM,CAACH,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;;EAGpD,IAAIG,eAAG,CAACE,KAAK,CAACP,KAAK,CAAC,EAAE;IAClB,IAAMQ,IAAI,GAAGH,gBAAI,CAAC,EAAE,CAAC,CAChBI,MAAM,CAACT,KAAK,CAACC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAClCS,MAAM,CAACC,OAAO,CAAC;IAEpB,IAAMC,MAAM,GAAGZ,KAAK,CAACa,KAAK,CAAC;MAACV,OAAO,EAAEK;IAAI,CAAC,CAAC;IAE3C,OAAO,CAACT,QAAQ,CAACK,GAAG,CAAC,QAAQ,EAAEQ,MAAM,CAAC,EAAE,EAAE,CAAC;;EAG/C,OAAO,CAACb,QAAQ,EAAE,EAAE,CAAC;AACzB;AAxCAe","names":["handleServerOption","incoming","value","get","obj","baseDir","set","immutable_1","isList","isMap","dirs","concat","filter","Boolean","merged","merge","exports"],"sources":["../../../lib/cli/transforms/handleServerOption.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}