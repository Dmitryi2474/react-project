{"ast":null,"code":"'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\nconst tokenChars = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n// 0 - 15\n0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n// 16 - 31\n0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0,\n// 32 - 47\n1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0,\n// 48 - 63\n0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n// 64 - 79\n1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1,\n// 80 - 95\n1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n// 96 - 111\n1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (Object.prototype.hasOwnProperty.call(dest, name)) dest[name].push(elem);else dest[name] = [elem];\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = {};\n  if (header === undefined || header === '') return offers;\n  var params = {};\n  var mustUnescape = false;\n  var isEscaping = false;\n  var inQuotes = false;\n  var extensionName;\n  var paramName;\n  var start = -1;\n  var end = -1;\n  for (var i = 0; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 /* ' ' */ || code === 0x09 /* '\\t' */) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = {};\n        } else {\n          extensionName = name;\n        }\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = {};\n          extensionName = undefined;\n        }\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new Error(`unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new Error(`unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n        if (end === -1) end = i;\n        var value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = {};\n          extensionName = undefined;\n        }\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    }\n  }\n  if (start === -1 || inQuotes) throw new Error('unexpected end of input');\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, {});\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n  return offers;\n}\n\n/**\n * Serializes a parsed `Sec-WebSocket-Extensions` header to a string.\n *\n * @param {Object} value The object to format\n * @return {String} A string representing the given value\n * @public\n */\nfunction format(value) {\n  return Object.keys(value).map(token => {\n    var paramsList = value[token];\n    if (!Array.isArray(paramsList)) paramsList = [paramsList];\n    return paramsList.map(params => {\n      return [token].concat(Object.keys(params).map(k => {\n        var p = params[k];\n        if (!Array.isArray(p)) p = [p];\n        return p.map(v => v === true ? k : `${k}=${v}`).join('; ');\n      })).join('; ');\n    }).join(', ');\n  }).join(', ');\n}\nmodule.exports = {\n  format,\n  parse\n};","map":{"version":3,"names":["tokenChars","push","dest","name","elem","Object","prototype","hasOwnProperty","call","parse","header","offers","undefined","params","mustUnescape","isEscaping","inQuotes","extensionName","paramName","start","end","i","length","code","charCodeAt","Error","slice","value","replace","token","format","keys","map","paramsList","Array","isArray","concat","k","p","v","join","module","exports"],"sources":["/home/user/Рабочий стол/pizza/project/node_modules/ws/lib/Extensions.js"],"sourcesContent":["'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push (dest, name, elem) {\n  if (Object.prototype.hasOwnProperty.call(dest, name)) dest[name].push(elem);\n  else dest[name] = [elem];\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse (header) {\n  const offers = {};\n\n  if (header === undefined || header === '') return offers;\n\n  var params = {};\n  var mustUnescape = false;\n  var isEscaping = false;\n  var inQuotes = false;\n  var extensionName;\n  var paramName;\n  var start = -1;\n  var end = -1;\n\n  for (var i = 0; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20/* ' ' */|| code === 0x09/* '\\t' */) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b/* ';' */ || code === 0x2c/* ',' */) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = {};\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = {};\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d/* '=' */&& start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new Error(`unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22/* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c/* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new Error(`unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) throw new Error(`unexpected character at index ${i}`);\n\n        if (end === -1) end = i;\n        var value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = {};\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new Error(`unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes) throw new Error('unexpected end of input');\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, {});\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Serializes a parsed `Sec-WebSocket-Extensions` header to a string.\n *\n * @param {Object} value The object to format\n * @return {String} A string representing the given value\n * @public\n */\nfunction format (value) {\n  return Object.keys(value).map((token) => {\n    var paramsList = value[token];\n    if (!Array.isArray(paramsList)) paramsList = [paramsList];\n    return paramsList.map((params) => {\n      return [token].concat(Object.keys(params).map((k) => {\n        var p = params[k];\n        if (!Array.isArray(p)) p = [p];\n        return p.map((v) => v === true ? k : `${k}=${v}`).join('; ');\n      })).join('; ');\n    }).join(', ');\n  }).join(', ');\n}\n\nmodule.exports = { format, parse };\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}