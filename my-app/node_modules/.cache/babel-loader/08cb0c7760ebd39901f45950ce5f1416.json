{"ast":null,"code":"\"use strict\";\n\n/**\n * $ browser-sync reload <options>\n *\n * This commands starts the Browsersync servers\n * & Optionally UI.\n *\n * @param opts\n * @returns {Function}\n */\nmodule.exports = function (opts) {\n  var flags = opts.cli.flags;\n  if (!flags.url) {\n    flags.url = \"http://localhost:\" + (flags.port || 3000);\n  }\n  var proto = require(\"../http-protocol\");\n  var scheme = flags.url.match(/^https/) ? \"https\" : \"http\";\n  var args = {\n    method: \"reload\"\n  };\n  if (flags.files) {\n    args.args = flags.files;\n  }\n  var url = proto.getUrl(args, flags.url);\n  if (scheme === \"https\") {\n    process.env.NODE_TLS_REJECT_UNAUTHORIZED = \"0\";\n  }\n  require(scheme).get(url, function (res) {\n    res.on(\"data\", function () {\n      if (res.statusCode === 200) {\n        opts.cb(null, res);\n      }\n    });\n  }).on(\"error\", function (err) {\n    if (err.code === \"ECONNREFUSED\") {\n      err.message = \"Browsersync not running at \" + flags.url;\n    }\n    return opts.cb(err);\n  });\n};","map":{"version":3,"mappings":"AAAA,YAAY;;AAEZ;;;;;;;;;AASAA,MAAM,CAACC,OAAO,GAAG,UAASC,IAAI;EAC1B,IAAIC,KAAK,GAAGD,IAAI,CAACE,GAAG,CAACD,KAAK;EAC1B,IAAI,CAACA,KAAK,CAACE,GAAG,EAAE;IACZF,KAAK,CAACE,GAAG,GAAG,mBAAmB,IAAIF,KAAK,CAACG,IAAI,IAAI,IAAI,CAAC;;EAE1D,IAAIC,KAAK,GAAGC,OAAO,CAAC,kBAAkB,CAAC;EACvC,IAAIC,MAAM,GAAGN,KAAK,CAACE,GAAG,CAACK,KAAK,CAAC,QAAQ,CAAC,GAAG,OAAO,GAAG,MAAM;EACzD,IAAIC,IAAI,GAAG;IAAEC,MAAM,EAAE;EAAQ,CAAE;EAE/B,IAAIT,KAAK,CAACU,KAAK,EAAE;IACbF,IAAI,CAACA,IAAI,GAAGR,KAAK,CAACU,KAAK;;EAG3B,IAAIR,GAAG,GAAGE,KAAK,CAACO,MAAM,CAACH,IAAI,EAAER,KAAK,CAACE,GAAG,CAAC;EAEvC,IAAII,MAAM,KAAK,OAAO,EAAE;IACpBM,OAAO,CAACC,GAAG,CAACC,4BAA4B,GAAG,GAAG;;EAGlDT,OAAO,CAACC,MAAM,CAAC,CACVS,GAAG,CAACb,GAAG,EAAE,UAASc,GAAG;IAClBA,GAAG,CAACC,EAAE,CAAC,MAAM,EAAE;MACX,IAAID,GAAG,CAACE,UAAU,KAAK,GAAG,EAAE;QACxBnB,IAAI,CAACoB,EAAE,CAAC,IAAI,EAAEH,GAAG,CAAC;;IAE1B,CAAC,CAAC;EACN,CAAC,CAAC,CACDC,EAAE,CAAC,OAAO,EAAE,UAASG,GAAG;IACrB,IAAIA,GAAG,CAACC,IAAI,KAAK,cAAc,EAAE;MAC7BD,GAAG,CAACE,OAAO,GAAG,6BAA6B,GAAGtB,KAAK,CAACE,GAAG;;IAE3D,OAAOH,IAAI,CAACoB,EAAE,CAACC,GAAG,CAAC;EACvB,CAAC,CAAC;AACV,CAAC","names":["module","exports","opts","flags","cli","url","port","proto","require","scheme","match","args","method","files","getUrl","process","env","NODE_TLS_REJECT_UNAUTHORIZED","get","res","on","statusCode","cb","err","code","message"],"sources":["../../lib/cli/command.reload.js"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}