{"ast":null,"code":"var Immutable = require(\"immutable\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar baseHorizontal = fs.readFileSync(path.resolve(__dirname, \"css/grid-overlay-horizontal.css\"), \"utf8\");\nvar baseVertical = fs.readFileSync(path.resolve(__dirname, \"css/grid-overlay-vertical.css\"), \"utf8\");\nfunction template(string, obj) {\n  obj = obj || {};\n  return string.replace(/\\{\\{(.+?)\\}\\}/g, function () {\n    if (obj[arguments[1]]) {\n      return obj[arguments[1]];\n    }\n    return \"\";\n  });\n}\nfunction getCss(opts) {\n  var base = opts.selector + \" {position:relative;}\";\n  if (opts.horizontal) {\n    base += baseHorizontal;\n  }\n  if (opts.vertical) {\n    base += baseVertical;\n  }\n  return template(base, opts);\n}\nmodule.exports.init = function (ui) {\n  const TRANSMIT_EVENT = \"ui:remote-debug:css-overlay-grid\";\n  const READY_EVENT = \"ui:remote-debug:css-overlay-grid:ready\";\n  const OPT_PATH = [\"remote-debug\", \"overlay-grid\"];\n  var defaults = {\n    offsetY: \"0\",\n    offsetX: \"0\",\n    size: \"16px\",\n    selector: \"body\",\n    color: \"rgba(0, 0, 0, .2)\",\n    horizontal: true,\n    vertical: true\n  };\n  ui.clients.on(\"connection\", function (client) {\n    client.on(READY_EVENT, function () {\n      client.emit(TRANSMIT_EVENT, {\n        innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n      });\n    });\n  });\n  ui.setOptionIn(OPT_PATH, Immutable.Map({\n    name: \"overlay-grid\",\n    title: \"Overlay CSS Grid\",\n    active: false,\n    tagline: \"Add an adjustable CSS overlay grid to your webpage\",\n    innerHTML: \"\"\n  }).merge(defaults));\n  var methods = {\n    toggle: function (value) {\n      if (value !== true) {\n        value = false;\n      }\n      if (value) {\n        ui.setOptionIn(OPT_PATH.concat(\"active\"), true);\n        ui.enableElement({\n          name: \"overlay-grid-js\"\n        });\n      } else {\n        ui.setOptionIn(OPT_PATH.concat(\"active\"), false);\n        ui.disableElement({\n          name: \"overlay-grid-js\"\n        });\n        ui.clients.emit(\"ui:element:remove\", {\n          id: \"__bs_overlay-grid-styles__\"\n        });\n      }\n    },\n    adjust: function (data) {\n      ui.setOptionIn(OPT_PATH, ui.getOptionIn(OPT_PATH).merge(data));\n      ui.clients.emit(TRANSMIT_EVENT, {\n        innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n      });\n    },\n    \"toggle:axis\": function (item) {\n      ui.setOptionIn(OPT_PATH.concat([item.axis]), item.value);\n      ui.clients.emit(TRANSMIT_EVENT, {\n        innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n      });\n    },\n    event: function (event) {\n      methods[event.event](event.data);\n    }\n  };\n  return methods;\n};","map":{"version":3,"names":["Immutable","require","fs","path","baseHorizontal","readFileSync","resolve","__dirname","baseVertical","template","string","obj","replace","arguments","getCss","opts","base","selector","horizontal","vertical","module","exports","init","ui","TRANSMIT_EVENT","READY_EVENT","OPT_PATH","defaults","offsetY","offsetX","size","color","clients","on","client","emit","innerHTML","options","getIn","toJS","setOptionIn","Map","name","title","active","tagline","merge","methods","toggle","value","concat","enableElement","disableElement","id","adjust","data","getOptionIn","item","axis","event"],"sources":["/home/user/Рабочий стол/pizza/project/node_modules/browser-sync-ui/lib/plugins/remote-debug/overlay-grid/overlay-grid.js"],"sourcesContent":["var Immutable = require(\"immutable\");\nvar fs        = require(\"fs\");\nvar path      = require(\"path\");\nvar baseHorizontal = fs.readFileSync(path.resolve(__dirname, \"css/grid-overlay-horizontal.css\"), \"utf8\");\nvar baseVertical   = fs.readFileSync(path.resolve(__dirname, \"css/grid-overlay-vertical.css\"), \"utf8\");\n\nfunction template (string, obj) {\n    obj = obj || {};\n    return string.replace(/\\{\\{(.+?)\\}\\}/g, function () {\n        if (obj[arguments[1]]) {\n           return obj[arguments[1]];\n        }\n        return \"\";\n    });\n}\n\nfunction getCss(opts) {\n\n    var base = opts.selector + \" {position:relative;}\";\n\n    if (opts.horizontal) {\n        base += baseHorizontal;\n    }\n\n    if (opts.vertical) {\n        base += baseVertical;\n    }\n\n    return template(base, opts);\n}\n\nmodule.exports.init = function (ui) {\n\n    const TRANSMIT_EVENT = \"ui:remote-debug:css-overlay-grid\";\n    const READY_EVENT    = \"ui:remote-debug:css-overlay-grid:ready\";\n    const OPT_PATH       = [\"remote-debug\", \"overlay-grid\"];\n\n    var defaults = {\n        offsetY:  \"0\",\n        offsetX:  \"0\",\n        size:     \"16px\",\n        selector: \"body\",\n        color:    \"rgba(0, 0, 0, .2)\",\n        horizontal: true,\n        vertical: true\n    };\n\n    ui.clients.on(\"connection\", function (client) {\n        client.on(READY_EVENT, function () {\n            client.emit(TRANSMIT_EVENT, {\n                innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n            });\n        });\n    });\n\n    ui.setOptionIn(OPT_PATH, Immutable.Map({\n        name: \"overlay-grid\",\n        title: \"Overlay CSS Grid\",\n        active: false,\n        tagline: \"Add an adjustable CSS overlay grid to your webpage\",\n        innerHTML: \"\"\n    }).merge(defaults));\n\n\n    var methods = {\n        toggle: function (value) {\n            if (value !== true) {\n                value = false;\n            }\n            if (value) {\n                ui.setOptionIn(OPT_PATH.concat(\"active\"), true);\n                ui.enableElement({name: \"overlay-grid-js\"});\n            } else {\n                ui.setOptionIn(OPT_PATH.concat(\"active\"), false);\n                ui.disableElement({name: \"overlay-grid-js\"});\n                ui.clients.emit(\"ui:element:remove\", {id: \"__bs_overlay-grid-styles__\"});\n            }\n        },\n        adjust: function (data) {\n\n            ui.setOptionIn(OPT_PATH, ui.getOptionIn(OPT_PATH).merge(data));\n\n            ui.clients.emit(TRANSMIT_EVENT, {\n                innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n            });\n        },\n        \"toggle:axis\": function (item) {\n\n            ui.setOptionIn(OPT_PATH.concat([item.axis]), item.value);\n\n            ui.clients.emit(TRANSMIT_EVENT, {\n                innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n            });\n        },\n        event: function (event) {\n            methods[event.event](event.data);\n        }\n    };\n\n    return methods;\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}