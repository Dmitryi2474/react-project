{"ast":null,"code":"'use strict';\n\nvar processFn = function (fn, P, opts) {\n  return function () {\n    var that = this;\n    var args = new Array(arguments.length);\n    for (var i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    return new P(function (resolve, reject) {\n      args.push(function (err, result) {\n        if (err) {\n          reject(err);\n        } else if (opts.multiArgs) {\n          var results = new Array(arguments.length - 1);\n          for (var i = 1; i < arguments.length; i++) {\n            results[i - 1] = arguments[i];\n          }\n          resolve(results);\n        } else {\n          resolve(result);\n        }\n      });\n      fn.apply(that, args);\n    });\n  };\n};\nvar pify = module.exports = function (obj, P, opts) {\n  if (typeof P !== 'function') {\n    opts = P;\n    P = Promise;\n  }\n  opts = opts || {};\n  opts.exclude = opts.exclude || [/.+Sync$/];\n  var filter = function (key) {\n    var match = function (pattern) {\n      return typeof pattern === 'string' ? key === pattern : pattern.test(key);\n    };\n    return opts.include ? opts.include.some(match) : !opts.exclude.some(match);\n  };\n  var ret = typeof obj === 'function' ? function () {\n    if (opts.excludeMain) {\n      return obj.apply(this, arguments);\n    }\n    return processFn(obj, P, opts).apply(this, arguments);\n  } : {};\n  return Object.keys(obj).reduce(function (ret, key) {\n    var x = obj[key];\n    ret[key] = typeof x === 'function' && filter(key) ? processFn(x, P, opts) : x;\n    return ret;\n  }, ret);\n};\npify.all = pify;","map":{"version":3,"names":["processFn","fn","P","opts","that","args","Array","arguments","length","i","resolve","reject","push","err","result","multiArgs","results","apply","pify","module","exports","obj","Promise","exclude","filter","key","match","pattern","test","include","some","ret","excludeMain","Object","keys","reduce","x","all"],"sources":["/home/user/Рабочий стол/pizza/project/node_modules/pify/index.js"],"sourcesContent":["'use strict';\n\nvar processFn = function (fn, P, opts) {\n\treturn function () {\n\t\tvar that = this;\n\t\tvar args = new Array(arguments.length);\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\treturn new P(function (resolve, reject) {\n\t\t\targs.push(function (err, result) {\n\t\t\t\tif (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t} else if (opts.multiArgs) {\n\t\t\t\t\tvar results = new Array(arguments.length - 1);\n\n\t\t\t\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\t\t\t\tresults[i - 1] = arguments[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(results);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfn.apply(that, args);\n\t\t});\n\t};\n};\n\nvar pify = module.exports = function (obj, P, opts) {\n\tif (typeof P !== 'function') {\n\t\topts = P;\n\t\tP = Promise;\n\t}\n\n\topts = opts || {};\n\topts.exclude = opts.exclude || [/.+Sync$/];\n\n\tvar filter = function (key) {\n\t\tvar match = function (pattern) {\n\t\t\treturn typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\t\t};\n\n\t\treturn opts.include ? opts.include.some(match) : !opts.exclude.some(match);\n\t};\n\n\tvar ret = typeof obj === 'function' ? function () {\n\t\tif (opts.excludeMain) {\n\t\t\treturn obj.apply(this, arguments);\n\t\t}\n\n\t\treturn processFn(obj, P, opts).apply(this, arguments);\n\t} : {};\n\n\treturn Object.keys(obj).reduce(function (ret, key) {\n\t\tvar x = obj[key];\n\n\t\tret[key] = typeof x === 'function' && filter(key) ? processFn(x, P, opts) : x;\n\n\t\treturn ret;\n\t}, ret);\n};\n\npify.all = pify;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}