{"ast":null,"code":"'use strict';\n\nfunction Queue(options) {\n  if (!(this instanceof Queue)) {\n    return new Queue(options);\n  }\n  options = options || {};\n  this.concurrency = options.concurrency || Infinity;\n  this.pending = 0;\n  this.jobs = [];\n  this.cbs = [];\n  this._done = done.bind(this);\n}\nvar arrayAddMethods = ['push', 'unshift', 'splice'];\narrayAddMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    var methodResult = Array.prototype[method].apply(this.jobs, arguments);\n    this._run();\n    return methodResult;\n  };\n});\nObject.defineProperty(Queue.prototype, 'length', {\n  get: function () {\n    return this.pending + this.jobs.length;\n  }\n});\nQueue.prototype._run = function () {\n  if (this.pending === this.concurrency) {\n    return;\n  }\n  if (this.jobs.length) {\n    var job = this.jobs.shift();\n    this.pending++;\n    job(this._done);\n    this._run();\n  }\n  if (this.pending === 0) {\n    while (this.cbs.length !== 0) {\n      var cb = this.cbs.pop();\n      process.nextTick(cb);\n    }\n  }\n};\nQueue.prototype.onDone = function (cb) {\n  if (typeof cb === 'function') {\n    this.cbs.push(cb);\n    this._run();\n  }\n};\nfunction done() {\n  this.pending--;\n  this._run();\n}\nmodule.exports = Queue;","map":{"version":3,"names":["Queue","options","concurrency","Infinity","pending","jobs","cbs","_done","done","bind","arrayAddMethods","forEach","method","prototype","methodResult","Array","apply","arguments","_run","Object","defineProperty","get","length","job","shift","cb","pop","process","nextTick","onDone","push","module","exports"],"sources":["/home/user/Рабочий стол/pizza/project/node_modules/async-limiter/index.js"],"sourcesContent":["'use strict';\n\nfunction Queue(options) {\n  if (!(this instanceof Queue)) {\n    return new Queue(options);\n  }\n\n  options = options || {};\n  this.concurrency = options.concurrency || Infinity;\n  this.pending = 0;\n  this.jobs = [];\n  this.cbs = [];\n  this._done = done.bind(this);\n}\n\nvar arrayAddMethods = [\n  'push',\n  'unshift',\n  'splice'\n];\n\narrayAddMethods.forEach(function(method) {\n  Queue.prototype[method] = function() {\n    var methodResult = Array.prototype[method].apply(this.jobs, arguments);\n    this._run();\n    return methodResult;\n  };\n});\n\nObject.defineProperty(Queue.prototype, 'length', {\n  get: function() {\n    return this.pending + this.jobs.length;\n  }\n});\n\nQueue.prototype._run = function() {\n  if (this.pending === this.concurrency) {\n    return;\n  }\n  if (this.jobs.length) {\n    var job = this.jobs.shift();\n    this.pending++;\n    job(this._done);\n    this._run();\n  }\n\n  if (this.pending === 0) {\n    while (this.cbs.length !== 0) {\n      var cb = this.cbs.pop();\n      process.nextTick(cb);\n    }\n  }\n};\n\nQueue.prototype.onDone = function(cb) {\n  if (typeof cb === 'function') {\n    this.cbs.push(cb);\n    this._run();\n  }\n};\n\nfunction done() {\n  this.pending--;\n  this._run();\n}\n\nmodule.exports = Queue;\n"],"mappings":"AAAA,YAAY;;AAEZ,SAASA,KAAK,CAACC,OAAO,EAAE;EACtB,IAAI,EAAE,IAAI,YAAYD,KAAK,CAAC,EAAE;IAC5B,OAAO,IAAIA,KAAK,CAACC,OAAO,CAAC;EAC3B;EAEAA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;EACvB,IAAI,CAACC,WAAW,GAAGD,OAAO,CAACC,WAAW,IAAIC,QAAQ;EAClD,IAAI,CAACC,OAAO,GAAG,CAAC;EAChB,IAAI,CAACC,IAAI,GAAG,EAAE;EACd,IAAI,CAACC,GAAG,GAAG,EAAE;EACb,IAAI,CAACC,KAAK,GAAGC,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC;AAC9B;AAEA,IAAIC,eAAe,GAAG,CACpB,MAAM,EACN,SAAS,EACT,QAAQ,CACT;AAEDA,eAAe,CAACC,OAAO,CAAC,UAASC,MAAM,EAAE;EACvCZ,KAAK,CAACa,SAAS,CAACD,MAAM,CAAC,GAAG,YAAW;IACnC,IAAIE,YAAY,GAAGC,KAAK,CAACF,SAAS,CAACD,MAAM,CAAC,CAACI,KAAK,CAAC,IAAI,CAACX,IAAI,EAAEY,SAAS,CAAC;IACtE,IAAI,CAACC,IAAI,EAAE;IACX,OAAOJ,YAAY;EACrB,CAAC;AACH,CAAC,CAAC;AAEFK,MAAM,CAACC,cAAc,CAACpB,KAAK,CAACa,SAAS,EAAE,QAAQ,EAAE;EAC/CQ,GAAG,EAAE,YAAW;IACd,OAAO,IAAI,CAACjB,OAAO,GAAG,IAAI,CAACC,IAAI,CAACiB,MAAM;EACxC;AACF,CAAC,CAAC;AAEFtB,KAAK,CAACa,SAAS,CAACK,IAAI,GAAG,YAAW;EAChC,IAAI,IAAI,CAACd,OAAO,KAAK,IAAI,CAACF,WAAW,EAAE;IACrC;EACF;EACA,IAAI,IAAI,CAACG,IAAI,CAACiB,MAAM,EAAE;IACpB,IAAIC,GAAG,GAAG,IAAI,CAAClB,IAAI,CAACmB,KAAK,EAAE;IAC3B,IAAI,CAACpB,OAAO,EAAE;IACdmB,GAAG,CAAC,IAAI,CAAChB,KAAK,CAAC;IACf,IAAI,CAACW,IAAI,EAAE;EACb;EAEA,IAAI,IAAI,CAACd,OAAO,KAAK,CAAC,EAAE;IACtB,OAAO,IAAI,CAACE,GAAG,CAACgB,MAAM,KAAK,CAAC,EAAE;MAC5B,IAAIG,EAAE,GAAG,IAAI,CAACnB,GAAG,CAACoB,GAAG,EAAE;MACvBC,OAAO,CAACC,QAAQ,CAACH,EAAE,CAAC;IACtB;EACF;AACF,CAAC;AAEDzB,KAAK,CAACa,SAAS,CAACgB,MAAM,GAAG,UAASJ,EAAE,EAAE;EACpC,IAAI,OAAOA,EAAE,KAAK,UAAU,EAAE;IAC5B,IAAI,CAACnB,GAAG,CAACwB,IAAI,CAACL,EAAE,CAAC;IACjB,IAAI,CAACP,IAAI,EAAE;EACb;AACF,CAAC;AAED,SAASV,IAAI,GAAG;EACd,IAAI,CAACJ,OAAO,EAAE;EACd,IAAI,CAACc,IAAI,EAAE;AACb;AAEAa,MAAM,CAACC,OAAO,GAAGhC,KAAK"},"metadata":{},"sourceType":"script"}