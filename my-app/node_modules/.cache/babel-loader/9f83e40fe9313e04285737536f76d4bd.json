{"ast":null,"code":"import _slicedToArray from\"/home/user/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/react-project/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{addItem,selectCartItemById}from'../../redux/slices/cartSlice';import'../ui/Button/Button';import classes from'./MobileBlock.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var typeNames=['128 GB','512 GB'];var MobileBlock=function MobileBlock(_ref){var id=_ref.id,title=_ref.title,price=_ref.price,imageUrl=_ref.imageUrl,types=_ref.types,colors=_ref.colors;var dispatch=useDispatch();var cartItem=useSelector(selectCartItemById(id));var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeType=_useState2[0],setActiveType=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),activeSize=_useState4[0],setActiveSize=_useState4[1];var addedCount=cartItem?cartItem.count:0;var onClickAdd=function onClickAdd(){var item={id:id,title:title,price:price,imageUrl:imageUrl,type:typeNames[activeType],color:colors[activeSize]};dispatch(addItem(item));};return/*#__PURE__*/_jsx(\"div\",{className:classes.MobileBlockWrapper,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.MobileBlock,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.imgScale,children:/*#__PURE__*/_jsxs(Link,{to:\"/mobile/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:classes.Image,src:imageUrl,alt:\"Mobile\"}),/*#__PURE__*/_jsx(\"h4\",{className:classes.Title,children:title})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.Selector,children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(value,i){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setActiveType(i);},className:activeType===i?\"\".concat(classes.active):'',children:value},i);})}),/*#__PURE__*/_jsx(\"ul\",{children:colors.map(function(value,i){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setActiveSize(i);},className:activeSize===i?\"\".concat(classes.active):'',children:value},i);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.Bottom,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.Price,children:[price,\" \\u0440\\u0443\\u0431\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),addedCount>0&&/*#__PURE__*/_jsx(\"i\",{children:addedCount})]})]})]})});};export default MobileBlock;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Link","addItem","selectCartItemById","classes","typeNames","MobileBlock","id","title","price","imageUrl","types","colors","dispatch","cartItem","activeType","setActiveType","activeSize","setActiveSize","addedCount","count","onClickAdd","item","type","color","MobileBlockWrapper","imgScale","Image","Title","Selector","map","value","i","active","Bottom","Price"],"sources":["/home/user/Рабочий стол/react-project/my-app/src/components/MobileBlock/MobileBlock.jsx"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addItem, selectCartItemById } from '../../redux/slices/cartSlice';\n\nimport '../ui/Button/Button';\nimport classes from './MobileBlock.module.scss';\n\nconst typeNames = ['128 GB', '512 GB'];\n\nconst MobileBlock = ({ id, title, price, imageUrl, types, colors }) => {\n  const dispatch = useDispatch();\n  const cartItem = useSelector(selectCartItemById(id));\n  const [activeType, setActiveType] = useState(0);\n  const [activeSize, setActiveSize] = useState(0);\n\n  const addedCount = cartItem ? cartItem.count : 0;\n\n  const onClickAdd = () => {\n    const item = {\n      id,\n      title,\n      price,\n      imageUrl,\n      type: typeNames[activeType],\n      color: colors[activeSize],\n    };\n    dispatch(addItem(item));\n  };\n\n  return (\n    <div className={classes.MobileBlockWrapper}>\n      <div className={classes.MobileBlock}>\n        <div className={classes.imgScale}>\n          <Link to={`/mobile/${id}`}>\n            <img className={classes.Image} src={imageUrl} alt=\"Mobile\" />\n            <h4 className={classes.Title}>{title}</h4>\n          </Link>\n        </div>\n        <div className={classes.Selector}>\n          <ul>\n            {types.map((value, i) => (\n              <li\n                key={i}\n                onClick={() => setActiveType(i)}\n                className={activeType === i ? `${classes.active}` : ''}\n              >\n                {value}\n              </li>\n            ))}\n          </ul>\n          <ul>\n            {colors.map((value, i) => (\n              <li\n                key={i}\n                onClick={() => setActiveSize(i)}\n                className={activeSize === i ? `${classes.active}` : ''}\n              >\n                {value}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className={classes.Bottom}>\n          <div className={classes.Price}>{price} руб</div>\n          <button\n            onClick={onClickAdd}\n            className=\"button button--outline button--add\"\n          >\n            <svg\n              width=\"12\"\n              height=\"12\"\n              viewBox=\"0 0 12 12\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n                fill=\"white\"\n              />\n            </svg>\n            <span>Добавить</span>\n            {addedCount > 0 && <i>{addedCount}</i>}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MobileBlock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}