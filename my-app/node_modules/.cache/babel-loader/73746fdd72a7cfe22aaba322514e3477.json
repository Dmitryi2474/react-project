{"ast":null,"code":"\"use strict\";\n\nvar _ = require(\"./lodash.custom\");\nvar utils = require(\"util\");\n/**\n * @param {BrowserSync} bs\n * @param {Function} cb\n */\nmodule.exports = function (bs, cb) {\n  var opts = {};\n  var options = bs.options;\n  var port = options.get(\"port\");\n  if (_.isString(options.get(\"tunnel\"))) {\n    opts.subdomain = options.get(\"tunnel\");\n  }\n  bs.debug(\"Requesting a tunnel connection on port: {magenta:%s}\", port);\n  bs.debug(\"Requesting a tunnel connection with options: {magenta:%s}\", utils.inspect(opts));\n  require(\"localtunnel\")(port, opts, function (err, tunnel) {\n    if (err) {\n      return cb(err);\n    }\n    tunnel.on(\"error\", function (err) {\n      bs.logger.info(\"Localtunnel issue: \" + err.message);\n      bs.logger.info(\"Oops! The localtunnel appears to have disconnected. Reconnecting...\");\n    });\n    return cb(null, tunnel);\n  });\n};","map":{"version":3,"mappings":"AAAA,YAAY;;AAEZ,IAAIA,CAAC,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAClC,IAAIC,KAAK,GAAGD,OAAO,CAAC,MAAM,CAAC;AAE3B;;;;AAIAE,MAAM,CAACC,OAAO,GAAG,UAASC,EAAE,EAAEC,EAAE;EAC5B,IAAIC,IAAI,GAAG,EAAE;EACb,IAAIC,OAAO,GAAGH,EAAE,CAACG,OAAO;EACxB,IAAIC,IAAI,GAAGD,OAAO,CAACE,GAAG,CAAC,MAAM,CAAC;EAE9B,IAAIV,CAAC,CAACW,QAAQ,CAACH,OAAO,CAACE,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE;IACnCH,IAAI,CAACK,SAAS,GAAGJ,OAAO,CAACE,GAAG,CAAC,QAAQ,CAAC;;EAG1CL,EAAE,CAACQ,KAAK,CAAC,sDAAsD,EAAEJ,IAAI,CAAC;EACtEJ,EAAE,CAACQ,KAAK,CACJ,2DAA2D,EAC3DX,KAAK,CAACY,OAAO,CAACP,IAAI,CAAC,CACtB;EAEDN,OAAO,CAAC,aAAa,CAAC,CAACQ,IAAI,EAAEF,IAAI,EAAE,UAASQ,GAAG,EAAEC,MAAM;IACnD,IAAID,GAAG,EAAE;MACL,OAAOT,EAAE,CAACS,GAAG,CAAC;;IAGlBC,MAAM,CAACC,EAAE,CAAC,OAAO,EAAE,UAASF,GAAG;MAC3BV,EAAE,CAACa,MAAM,CAACC,IAAI,CAAC,qBAAqB,GAAGJ,GAAG,CAACK,OAAO,CAAC;MACnDf,EAAE,CAACa,MAAM,CAACC,IAAI,CACV,qEAAqE,CACxE;IACL,CAAC,CAAC;IAEF,OAAOb,EAAE,CAAC,IAAI,EAAEU,MAAM,CAAC;EAC3B,CAAC,CAAC;AACN,CAAC","names":["_","require","utils","module","exports","bs","cb","opts","options","port","get","isString","subdomain","debug","inspect","err","tunnel","on","logger","info","message"],"sources":["../lib/tunnel.js"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}