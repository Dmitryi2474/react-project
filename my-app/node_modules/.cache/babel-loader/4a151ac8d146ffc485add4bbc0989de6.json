{"ast":null,"code":"\"use strict\";\n\nvar _ = require(\"./lodash.custom\");\nvar Immutable = require(\"immutable\");\nvar utils = require(\"./utils\");\nvar pluginUtils = require(\"./plugins\");\nvar connectUtils = require(\"./connect-utils\");\nmodule.exports = {\n  /**\n   * BrowserSync needs at least 1 free port.\n   * It will check the one provided in config\n   * and keep incrementing until an available one is found.\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  getEmptyPort: function (bs, done) {\n    utils.getPorts(bs.options, function (err, port) {\n      if (err) {\n        return utils.fail(true, err, bs.cb);\n      }\n      bs.debug(\"Found a free port: {magenta:%s\", port);\n      done(null, {\n        options: {\n          port: port\n        }\n      });\n    });\n  },\n  /**\n   * If the running mode is proxy, we'll use a separate port\n   * for the Browsersync web-socket server. This is to eliminate any issues\n   * with trying to proxy web sockets through to the users server.\n   * @param bs\n   * @param done\n   */\n  getExtraPortForProxy: function (bs, done) {\n    /**\n     * An extra port is not needed in snippet/server mode\n     */\n    if (bs.options.get(\"mode\") !== \"proxy\") {\n      return done();\n    }\n    /**\n     * Web socket support is disabled by default\n     */\n    if (!bs.options.getIn([\"proxy\", \"ws\"])) {\n      return done();\n    }\n    /**\n     * Use 1 higher than server port by default...\n     */\n    var socketPort = bs.options.get(\"port\") + 1;\n    /**\n     * Or use the user-defined socket.port option instead\n     */\n    if (bs.options.hasIn([\"socket\", \"port\"])) {\n      socketPort = bs.options.getIn([\"socket\", \"port\"]);\n    }\n    utils.getPort(bs.options.get(\"listen\", \"localhost\"), socketPort, null, function (err, port) {\n      if (err) {\n        return utils.fail(true, err, bs.cb);\n      }\n      done(null, {\n        optionsIn: [{\n          path: [\"socket\", \"port\"],\n          value: port\n        }]\n      });\n    });\n  },\n  /**\n   * Some features require an internet connection.\n   * If the user did not provide either `true` or `false`\n   * for the online option, we will attempt to resolve www.google.com\n   * as a way of determining network connectivity\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  getOnlineStatus: function (bs, done) {\n    if (_.isUndefined(bs.options.get(\"online\")) && _.isUndefined(process.env.TESTING)) {\n      require(\"dns\").resolve(\"www.google.com\", function (err) {\n        var online = false;\n        if (err) {\n          bs.debug(\"Could not resolve www.google.com, setting {magenta:online: false}\");\n        } else {\n          bs.debug(\"Resolved www.google.com, setting {magenta:online: true}\");\n          online = true;\n        }\n        done(null, {\n          options: {\n            online: online\n          }\n        });\n      });\n    } else {\n      done();\n    }\n  },\n  /**\n   * Try to load plugins that were given in options\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  resolveInlineUserPlugins: function (bs, done) {\n    var plugins = bs.options.get(\"plugins\").map(pluginUtils.resolvePlugin).map(pluginUtils.requirePlugin);\n    plugins.forEach(function (plugin) {\n      if (plugin.get(\"errors\").size) {\n        return logPluginError(plugin);\n      }\n      var jsPlugin = plugin.toJS();\n      jsPlugin.options = jsPlugin.options || {};\n      jsPlugin.options.moduleName = jsPlugin.moduleName;\n      bs.registerPlugin(jsPlugin.module, jsPlugin.options);\n    });\n    function logPluginError(plugin) {\n      utils.fail(true, plugin.getIn([\"errors\", 0]), bs.cb);\n    }\n    done();\n  },\n  /**\n   *\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  setOptions: function (bs, done) {\n    done(null, {\n      options: {\n        urls: utils.getUrlOptions(bs.options),\n        snippet: connectUtils.scriptTags(bs.options),\n        scriptPaths: Immutable.fromJS(connectUtils.clientScript(bs.options, true)),\n        files: bs.pluginManager.hook(\"files:watch\", bs.options.get(\"files\"), bs.pluginManager.pluginOptions)\n      }\n    });\n  },\n  /**\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  setInternalEvents: function (bs, done) {\n    require(\"./internal-events\")(bs);\n    done();\n  },\n  /**\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  setFileWatchers: function (bs, done) {\n    done(null, {\n      instance: {\n        watchers: bs.pluginManager.get(\"file:watcher\")(bs)\n      }\n    });\n  },\n  /**\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  mergeMiddlewares: function (bs, done) {\n    done(null, {\n      options: {\n        middleware: bs.pluginManager.hook(\"server:middleware\", bs.options.get(\"middleware\"))\n      }\n    });\n  },\n  /**\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  startServer: function (bs, done) {\n    var server = bs.pluginManager.get(\"server\")(bs);\n    done(null, {\n      instance: {\n        server: server.server,\n        app: server.app\n      }\n    });\n  },\n  /**\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  startTunnel: function (bs, done) {\n    if (bs.options.get(\"tunnel\") && bs.options.get(\"online\")) {\n      var localTunnel = require(\"./tunnel\");\n      localTunnel(bs, function (err, tunnel) {\n        if (err) {\n          return done(err);\n        } else {\n          return done(null, {\n            optionsIn: [{\n              path: [\"urls\", \"tunnel\"],\n              value: tunnel.url\n            }],\n            instance: {\n              tunnel: tunnel\n            }\n          });\n        }\n      });\n    } else {\n      done();\n    }\n  },\n  /**\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  startSockets: function (bs, done) {\n    var clientEvents = bs.pluginManager.hook(\"client:events\", bs.options.get(\"clientEvents\").toJS());\n    // Start the socket, needs an existing server.\n    var io = bs.pluginManager.get(\"socket\")(bs.server, clientEvents, bs);\n    done(null, {\n      instance: {\n        io: io\n      },\n      options: {\n        clientEvents: Immutable.fromJS(clientEvents)\n      }\n    });\n  },\n  /**\n   *\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  startUi: function (bs, done) {\n    var PLUGIN_NAME = \"UI\";\n    var userPlugins = bs.getUserPlugins();\n    var ui = bs.pluginManager.get(PLUGIN_NAME);\n    var uiOpts = bs.options.get(\"ui\");\n    if (!uiOpts || uiOpts.get(\"enabled\") === false) {\n      return done();\n    }\n    // if user provided a UI, use it instead\n    if (userPlugins.some(function (item) {\n      return item.name === PLUGIN_NAME;\n    })) {\n      uiOpts = bs.options.get(\"ui\").mergeDeep(Immutable.fromJS(bs.pluginManager.pluginOptions[PLUGIN_NAME]));\n    }\n    /**\n     * Append the 'listen' option\n     */\n    var opts = uiOpts.update(function (uiOpts) {\n      var listen = bs.options.get('listen');\n      if (listen) {\n        return uiOpts.set(\"listen\", listen);\n      }\n      return uiOpts;\n    });\n    return ui(opts.toJS(), bs, function (err, ui) {\n      if (err) {\n        return done(err);\n      }\n      done(null, {\n        instance: {\n          ui: ui\n        }\n      });\n    });\n  },\n  /**\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  mergeUiSettings: function (bs, done) {\n    if (!bs.ui) {\n      return done();\n    }\n    done(null, {\n      options: {\n        urls: bs.options.get(\"urls\").merge(bs.ui.options.get(\"urls\"))\n      }\n    });\n  },\n  /**\n   * @param {BrowserSync} bs\n   * @param {Function} done\n   */\n  initUserPlugins: function (bs, done) {\n    bs.pluginManager.initUserPlugins(bs);\n    done(null, {\n      options: {\n        userPlugins: bs.getUserPlugins()\n      }\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["_","require","Immutable","utils","pluginUtils","connectUtils","module","exports","getEmptyPort","bs","done","getPorts","options","err","port","fail","cb","debug","getExtraPortForProxy","get","getIn","socketPort","hasIn","getPort","optionsIn","path","value","getOnlineStatus","isUndefined","process","env","TESTING","resolve","online","resolveInlineUserPlugins","plugins","map","resolvePlugin","requirePlugin","forEach","plugin","size","logPluginError","jsPlugin","toJS","moduleName","registerPlugin","setOptions","urls","getUrlOptions","snippet","scriptTags","scriptPaths","fromJS","clientScript","files","pluginManager","hook","pluginOptions","setInternalEvents","setFileWatchers","instance","watchers","mergeMiddlewares","middleware","startServer","server","app","startTunnel","localTunnel","tunnel","url","startSockets","clientEvents","io","startUi","PLUGIN_NAME","userPlugins","getUserPlugins","ui","uiOpts","some","item","name","mergeDeep","opts","update","listen","set","mergeUiSettings","merge","initUserPlugins"],"sources":["../lib/async.js"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}